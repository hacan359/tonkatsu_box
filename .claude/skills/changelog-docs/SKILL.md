# Документирование изменений и актуализация документации

Запускается **последним**, после завершения всей работы, тестов и ревью.

## Порядок выполнения

### 1. Сбор изменений

Определи все изменения в текущей сессии:
```bash
git diff --name-status HEAD
git diff --stat HEAD
```

Если изменения уже закоммичены (ветка отличается от main):
```bash
git log main..HEAD --oneline
git diff --name-status main..HEAD
```

### 2. Обновление CHANGELOG.md

Файл `CHANGELOG.md` в корне проекта. Формат [Keep a Changelog](https://keepachangelog.com/):

```markdown
# Changelog

## [Unreleased]

### Added
- Новые фичи и файлы

### Changed
- Изменения в существующем коде

### Fixed
- Исправления багов

### Removed
- Удалённые файлы и функции
```

**Правила:**
- Записи на русском языке
- Каждая запись начинается с глагола: "Добавлен", "Изменён", "Исправлен", "Удалён"
- Указывать конкретные файлы/классы/методы
- Группировать связанные изменения
- Не включать промежуточные исправления (lint fix, test fix) — только финальный результат
- Если CHANGELOG.md не существует — создать с заголовком и секцией [Unreleased]

### 3. Актуализация docs/

Проверь каждый файл в `docs/` на соответствие текущему состоянию кода:

| Файл | Что проверить |
|------|--------------|
| `ARCHITECTURE.md` | Новые модули, провайдеры, модели, API клиенты, экраны |
| `FEATURES.md` | Новые пользовательские возможности |
| `GETTING_STARTED.md` | Новые шаги настройки (новые API ключи, конфигурация) |
| `ROADMAP.md` | Отметить выполненные пункты, добавить новые планы |
| `CONTRIBUTING.md` | Изменения в процессе разработки |
| `RCOLL_FORMAT.md` | Изменения формата экспорта/импорта |

**Правила обновления:**
- Добавлять только то, что реально изменилось
- Сохранять существующий стиль и форматирование документа
- Не переписывать весь файл — точечные правки
- Документация на английском (как существующие docs)
- Если файл не затронут изменениями — не трогать

### 4. Верификация

```bash
powershell.exe -Command "cd D:\CODE\xerabora; flutter analyze"
powershell.exe -Command "cd D:\CODE\xerabora; flutter test"
```

## Чеклист перед завершением

- [ ] CHANGELOG.md актуален
- [ ] docs/ARCHITECTURE.md отражает новые компоненты
- [ ] docs/FEATURES.md содержит новые возможности
- [ ] docs/GETTING_STARTED.md актуален (если добавлены новые настройки)
- [ ] docs/ROADMAP.md обновлён (если пункты выполнены)
- [ ] `flutter analyze` без warnings
- [ ] `flutter test` все тесты проходят
